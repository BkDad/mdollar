import{o as L,z as O}from"./framework.f9c62e49.js";function k(r,e){(e==null||e>r.length)&&(e=r.length);for(var i=0,t=Array(e);i<e;i++)t[i]=r[i];return t}function S(r,e){var i=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i)return(i=i.call(r)).next.bind(i);if(Array.isArray(r)||(i=w(r))||e&&r&&typeof r.length=="number"){i&&(r=i);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(r,e){if(r){if(typeof r=="string")return k(r,e);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?k(r,e):void 0}}var M=function(e){return!(!e||!Array.isArray(e)||e.length===0)},B=function(e,i){var t=i.split(".");return t.reduce(function(f,a){if(f)return f[a]},e)},y;(function(r){r.required="required",r.isMobile="isMobile",r.isEmail="isEmail",r.isCarNo="isCarNo",r.isIdCard="isIdCard",r.isAmount="isAmount",r.isNumber="isNumber",r.isChinese="isChinese",r.isNotChinese="isNotChinese",r.isEnglish="isEnglish",r.isEnAndNo="isEnAndNo",r.isEnOrNo="isEnOrNo",r.isSpecial="isSpecial",r.isEmoji="isEmoji",r.isDate="isDate",r.isUrl="isUrl",r.isSame="isSame",r.range="range",r.minLength="minLength",r.maxLength="maxLength",r.isKeyword="isKeyword",r.isArrayHaveValue="isArrayHaveValue"})(y||(y={}));var o={_isArrHaveValue:function(e){return M(e)},_isNullOrEmpty:function(e){return e===null||e===""||e===void 0},_isMobile:function(e){return/^(?:13\d|14\d|15\d|16\d|17\d|18\d|19\d)\d{5}(\d{3}|\*{3})$/.test(e)},_isEmail:function(e){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e)},_isCarNo:function(e){var i=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,t=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;return e.length===7?t.test(e):e.length===8?i.test(e):!1},_isIdCard:function(e){var i=e;if(i.length==15)return this.__isValidityBrithBy15IdCard;if(i.length==18){var t=i.split("");return!!(this.__isValidityBrithBy18IdCard(i)&&this.__isTrueValidateCodeBy18IdCard(t))}else return!1},__isTrueValidateCodeBy18IdCard:function(e){var i=0,t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],f=[1,0,10,9,8,7,6,5,4,3,2];e[17].toLowerCase()=="x"&&(e[17]=10);for(var a=0;a<17;a++)i+=t[a]*e[a];var u=i%11;return e[17]==f[u]},__isValidityBrithBy18IdCard:function(e){var i=e.substring(6,10),t=e.substring(10,12),f=e.substring(12,14),a=new Date(i,parseFloat(t)-1,parseFloat(f));return!(a.getFullYear()!=parseFloat(i)||a.getMonth()!=parseFloat(t)-1||a.getDate()!=parseFloat(f))},__isValidityBrithBy15IdCard:function(e){var i=e.substring(6,8),t=e.substring(8,10),f=e.substring(10,12),a=new Date(i,parseFloat(t)-1,parseFloat(f));return!(a.getFullYear()!=parseFloat(i)||a.getMonth()!=parseFloat(t)-1||a.getDate()!=parseFloat(f))},_isAmount:function(e){return/^([0-9]*[.]?[0-9])[0-9]{0,1}$/.test(e)},_isNumber:function(e){return/^[0-9]+$/.test(e)},_isChinese:function(e){var i=/^[\u4e00-\u9fa5]+$/;return e!==""&&i.test(e)&&!this._isSpecial(e)&&!this._isEmoji(e)},_isNotChinese:function(e){var i=/.*[\u4e00-\u9fa5]+.*$/,t=!0;return i.test(e)&&(t=!1),t},_isEnglish:function(e){return/^[a-zA-Z]*$/.test(e)},_isEnAndNo:function(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{4,30}$/.test(e)},_isEnOrNo:function(e){var i=/^[A-Za-z0-9]+$/;return i.test(e)},_isSpecial:function(e){var i=/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,t=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!!(i.test(e)||t.test(e))},_isEmoji:function(e){return/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g.test(e)},_isDate:function(e){var i=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;return i.test(e)},_isUrl:function(e){return/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})(:[0-9]{1,5})?((\/?)|(\/[\\\w_!~*\\'()\\\.;?:@&=+$,%#-]+)+\/?)$/.test(e)},_isSame:function(e,i){return e===i},_isRange:function(e,i,t){return!i&&i!=0&&!t&&t!=0?!0:!i&&i!=0?e<=t:!t&&t!=0?e>=i:e>=i&&e<=t},_minLength:function(e,i){return e.length>=Number(i)},_maxLength:function(e,i){return e.length<=Number(i)},_isKeyword:function(e,i){var t=!0;if(!i)return t;for(var f=i.split(","),a=0,u=f.length;a<u;a++)if(~e.indexOf(f[a])){t=!1;break}return t}},x={validator:function(e,i){for(var t={isPassed:!0,errorMsg:""},f=S(i),a;!(a=f()).done;){var u=a.value,d=u.name,l=u.rule||[],_=u.validator||[],F=u.msg||[],g=l.length,m=_.length,n=B(e,d);if(!(!d||g===0&&m===0||!~l.indexOf("required")&&(n==null?void 0:n.toString().length)===0)){if(g)for(var v=0;v<g;v++){var h=l[v],$=F[v]||d+" error !";if(h){var c=null;if(~h.indexOf(":")){var A=h.split(":");h=A[0],c=A[1]}var s=!1;switch(h){case"required":s=o._isNullOrEmpty(n),Array.isArray(n)&&(console.log(n.length),s=n.length===0);break;case"isMobile":s=!o._isMobile(n);break;case"isEmail":s=!o._isEmail(n);break;case"isCarNo":s=!o._isCarNo(n);break;case"isIdCard":s=!o._isIdCard(n);break;case"isAmount":s=!o._isAmount(n);break;case"isNumber":s=!o._isNumber(n);break;case"isChinese":s=!o._isChinese(n);break;case"isNotChinese":s=!o._isNotChinese(n);break;case"isEnglish":s=!o._isEnglish(n);break;case"isEnAndNo":s=!o._isEnAndNo(n);break;case"isEnOrNo":s=!o._isEnOrNo(n);break;case"isSpecial":s=o._isSpecial(n);break;case"isEmoji":s=o._isEmoji(n);break;case"isDate":s=!o._isDate(n);break;case"isUrl":s=!o._isUrl(n);break;case"isSame":s=!o._isSame(n,e[c]);break;case"range":var b=null;b=JSON.parse(c),s=!o._isRange(n,b[0],b[1]);break;case"minLength":s=!o._minLength(n,c);break;case"maxLength":s=!o._maxLength(n,c);break;case"isKeyword":s=!o._isKeyword(n,c);break;case"isArrayHaveValue":s=!o._isArrHaveValue(n,c);break}if(s)return t.isPassed=!1,t.errorMsg=$,t}}if(m)for(var D=S(_),p;!(p=D()).done;){var N=p.value,C=N.method;if(C&&!C(n))return t.isPassed=!1,t.errorMsg=N.msg||d+" error !",t}}}return t}},I=function(e){var i=function(f,a){var u=x.validator(f,a);if(u.isPassed)return u;throw e&&e(u.errorMsg),new Error(u.errorMsg)};return{check:i,rules:y}},H=function(e,i){var t=0,f=0;function a(d){t=d.touches[0].clientX}function u(d){f=d.changedTouches[0].clientX;var l=f-t,_="none";l>0?_="right":l<0&&(_="left"),i(_)}L(function(){var d=e.value;d&&(d.addEventListener("touchstart",a),d.addEventListener("touchend",u))}),O(function(){var d=e.value;d&&(d.removeEventListener("touchstart",a),d.removeEventListener("touchend",u))})};export{I as a,H as u};
