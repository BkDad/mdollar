import{o as O,y as L}from"./framework.51baf4c1.js";function M(i,e){if(i){if(typeof i=="string")return S(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(i,e)}}function S(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function F(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t)return(t=t.call(i)).next.bind(t);if(Array.isArray(i)||(t=M(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0;return function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=function(e){return!(!e||!Array.isArray(e)||e.length===0)},b;(function(i){i.required="required",i.isMobile="isMobile",i.isEmail="isEmail",i.isCarNo="isCarNo",i.isIdCard="isIdCard",i.isAmount="isAmount",i.isNumber="isNumber",i.isChinese="isChinese",i.isNotChinese="isNotChinese",i.isEnglish="isEnglish",i.isEnAndNo="isEnAndNo",i.isEnOrNo="isEnOrNo",i.isSpecial="isSpecial",i.isEmoji="isEmoji",i.isDate="isDate",i.isUrl="isUrl",i.isSame="isSame",i.range="range",i.minLength="minLength",i.maxLength="maxLength",i.isKeyword="isKeyword",i.isArrayHaveValue="isArrayHaveValue"})(b||(b={}));var u={_isArrHaveValue:function(e){return B(e)},_isNullOrEmpty:function(e){return e===null||e===""||e===void 0},_isMobile:function(e){return/^(?:13\d|14\d|15\d|16\d|17\d|18\d|19\d)\d{5}(\d{3}|\*{3})$/.test(e)},_isEmail:function(e){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e)},_isCarNo:function(e){var t=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,r=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;return e.length===7?r.test(e):e.length===8?t.test(e):!1},_isIdCard:function(e){var t=e;if(t.length==15)return this.__isValidityBrithBy15IdCard;if(t.length==18){var r=t.split("");return!!(this.__isValidityBrithBy18IdCard(t)&&this.__isTrueValidateCodeBy18IdCard(r))}else return!1},__isTrueValidateCodeBy18IdCard:function(e){var t=0,r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],o=[1,0,10,9,8,7,6,5,4,3,2];e[17].toLowerCase()=="x"&&(e[17]=10);for(var n=0;n<17;n++)t+=r[n]*e[n];var d=t%11;return e[17]==o[d]},__isValidityBrithBy18IdCard:function(e){var t=e.substring(6,10),r=e.substring(10,12),o=e.substring(12,14),n=new Date(t,parseFloat(r)-1,parseFloat(o));return!(n.getFullYear()!=parseFloat(t)||n.getMonth()!=parseFloat(r)-1||n.getDate()!=parseFloat(o))},__isValidityBrithBy15IdCard:function(e){var t=e.substring(6,8),r=e.substring(8,10),o=e.substring(10,12),n=new Date(t,parseFloat(r)-1,parseFloat(o));return!(n.getFullYear()!=parseFloat(t)||n.getMonth()!=parseFloat(r)-1||n.getDate()!=parseFloat(o))},_isAmount:function(e){return/^([0-9]*[.]?[0-9])[0-9]{0,1}$/.test(e)},_isNumber:function(e){return/^[0-9]+$/.test(e)},_isChinese:function(e){var t=/^[\u4e00-\u9fa5]+$/;return e!==""&&t.test(e)&&!this._isSpecial(e)&&!this._isEmoji(e)},_isNotChinese:function(e){var t=/.*[\u4e00-\u9fa5]+.*$/,r=!0;return t.test(e)&&(r=!1),r},_isEnglish:function(e){return/^[a-zA-Z]*$/.test(e)},_isEnAndNo:function(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{4,30}$/.test(e)},_isEnOrNo:function(e){var t=/^[A-Za-z0-9]+$/;return t.test(e)},_isSpecial:function(e){var t=/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,r=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!!(t.test(e)||r.test(e))},_isEmoji:function(e){return/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g.test(e)},_isDate:function(e){var t=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;return t.test(e)},_isUrl:function(e){return/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})(:[0-9]{1,5})?((\/?)|(\/[\\\w_!~*\\'()\\\.;?:@&=+$,%#-]+)+\/?)$/.test(e)},_isSame:function(e,t){return e===t},_isRange:function(e,t,r){return!t&&t!=0&&!r&&r!=0?!0:!t&&t!=0?e<=r:!r&&r!=0?e>=t:e>=t&&e<=r},_minLength:function(e,t){return e.length>=Number(t)},_maxLength:function(e,t){return e.length<=Number(t)},_isKeyword:function(e,t){var r=!0;if(!t)return r;for(var o=t.split(","),n=0,d=o.length;n<d;n++)if(~e.indexOf(o[n])){r=!1;break}return r}},x={validator:function(e,t){for(var r={isPassed:!0,errorMsg:""},o=F(t),n;!(n=o()).done;){var d,l=n.value,s=l.name,c=l.rule||[],p=l.validator||[],V=l.msg||[],v=c.length,A=p.length;if(!(!s||v===0&&A===0||!~c.indexOf("required")&&((d=e[s])==null?void 0:d.toString().length)===0)){if(v)for(var h=0;h<v;h++){var _=c[h],$=V[h]||s+" error !";if(_){var f=null;if(~_.indexOf(":")){var N=_.split(":");_=N[0],f=N[1]}var a=!1;switch(_){case"required":a=u._isNullOrEmpty(e[s]);break;case"isMobile":a=!u._isMobile(e[s]);break;case"isEmail":a=!u._isEmail(e[s]);break;case"isCarNo":a=!u._isCarNo(e[s]);break;case"isIdCard":a=!u._isIdCard(e[s]);break;case"isAmount":a=!u._isAmount(e[s]);break;case"isNumber":a=!u._isNumber(e[s]);break;case"isChinese":a=!u._isChinese(e[s]);break;case"isNotChinese":a=!u._isNotChinese(e[s]);break;case"isEnglish":a=!u._isEnglish(e[s]);break;case"isEnAndNo":a=!u._isEnAndNo(e[s]);break;case"isEnOrNo":a=!u._isEnOrNo(e[s]);break;case"isSpecial":a=u._isSpecial(e[s]);break;case"isEmoji":a=u._isEmoji(e[s]);break;case"isDate":a=!u._isDate(e[s]);break;case"isUrl":a=!u._isUrl(e[s]);break;case"isSame":a=!u._isSame(e[s],e[f]);break;case"range":var g=null;g=JSON.parse(f),a=!u._isRange(e[s],g[0],g[1]);break;case"minLength":a=!u._minLength(e[s],f);break;case"maxLength":a=!u._maxLength(e[s],f);break;case"isKeyword":a=!u._isKeyword(e[s],f);break;case"isArrayHaveValue":a=!u._isArrHaveValue(e[s],f);break}if(a)return r.isPassed=!1,r.errorMsg=$,r}}if(A)for(var w=F(p),C;!(C=w()).done;){var y=C.value,m=y.method;if(m&&!m(e[s]))return r.isPassed=!1,r.errorMsg=y.msg||s+" error !",r}}}return r}},z=function(e){var t=function(o,n){var d=x.validator(o,n);if(d.isPassed)return d;throw e&&e(d.errorMsg),new Error(d.errorMsg)};return{check:t,rules:b}},H=function(e,t){var r=0,o=0;function n(l){r=l.touches[0].clientX}function d(l){o=l.changedTouches[0].clientX;var s=o-r,c="none";s>0?c="right":s<0&&(c="left"),t(c)}O(function(){var l=e.value;l&&(l.addEventListener("touchstart",n),l.addEventListener("touchend",d))}),L(function(){var l=e.value;l&&(l.removeEventListener("touchstart",n),l.removeEventListener("touchend",d))})};export{z as a,H as u};
