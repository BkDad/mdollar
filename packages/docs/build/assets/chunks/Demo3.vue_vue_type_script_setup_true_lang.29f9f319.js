import{d as p,r as v,o as C,g as N,w as A,h as y,b as $}from"../app.768e3c1b.js";function Z(t,e){if(t){if(typeof t=="string")return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}}function O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function L(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Z(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=function(e){return!(!e||!Array.isArray(e)||!e[0]&&e[0]!==0)},b;(function(t){t.required="required",t.isMobile="isMobile",t.isEmail="isEmail",t.isCarNo="isCarNo",t.isIdCard="isIdCard",t.isAmount="isAmount",t.isNumber="isNumber",t.isChinese="isChinese",t.isNotChinese="isNotChinese",t.isEnglish="isEnglish",t.isEnAndNo="isEnAndNo",t.isEnOrNo="isEnOrNo",t.isSpecial="isSpecial",t.isEmoji="isEmoji",t.isDate="isDate",t.isUrl="isUrl",t.isSame="isSame",t.range="range",t.minLength="minLength",t.maxLength="maxLength",t.isKeyword="isKeyword",t.isArrayHaveValue="isArrayHaveValue"})(b||(b={}));var o={_isArrHaveValue:function(e){return j(e)},_isNullOrEmpty:function(e){return e===null||e===""||e===void 0},_isMobile:function(e){return/^(?:13\d|14\d|15\d|16\d|17\d|18\d|19\d)\d{5}(\d{3}|\*{3})$/.test(e)},_isEmail:function(e){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e)},_isCarNo:function(e){var r=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,s=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;return e.length===7?s.test(e):e.length===8?r.test(e):!1},_isIdCard:function(e){var r=e;if(r.length==15)return this.__isValidityBrithBy15IdCard;if(r.length==18){var s=r.split("");return!!(this.__isValidityBrithBy18IdCard(r)&&this.__isTrueValidateCodeBy18IdCard(s))}else return!1},__isTrueValidateCodeBy18IdCard:function(e){var r=0,s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],u=[1,0,10,9,8,7,6,5,4,3,2];e[17].toLowerCase()=="x"&&(e[17]=10);for(var i=0;i<17;i++)r+=s[i]*e[i];var l=r%11;return e[17]==u[l]},__isValidityBrithBy18IdCard:function(e){var r=e.substring(6,10),s=e.substring(10,12),u=e.substring(12,14),i=new Date(r,parseFloat(s)-1,parseFloat(u));return!(i.getFullYear()!=parseFloat(r)||i.getMonth()!=parseFloat(s)-1||i.getDate()!=parseFloat(u))},__isValidityBrithBy15IdCard:function(e){var r=e.substring(6,8),s=e.substring(8,10),u=e.substring(10,12),i=new Date(r,parseFloat(s)-1,parseFloat(u));return!(i.getFullYear()!=parseFloat(r)||i.getMonth()!=parseFloat(s)-1||i.getDate()!=parseFloat(u))},_isAmount:function(e){return/^([0-9]*[.]?[0-9])[0-9]{0,1}$/.test(e)},_isNumber:function(e){return/^[0-9]+$/.test(e)},_isChinese:function(e){var r=/^[\u4e00-\u9fa5]+$/;return e!==""&&r.test(e)&&!this._isSpecial(e)&&!this._isEmoji(e)},_isNotChinese:function(e){var r=/.*[\u4e00-\u9fa5]+.*$/,s=!0;return r.test(e)&&(s=!1),s},_isEnglish:function(e){return/^[a-zA-Z]*$/.test(e)},_isEnAndNo:function(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{4,30}$/.test(e)},_isEnOrNo:function(e){var r=/^[A-Za-z0-9]+$/;return r.test(e)},_isSpecial:function(e){var r=/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,s=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!!(r.test(e)||s.test(e))},_isEmoji:function(e){return/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g.test(e)},_isDate:function(e){var r=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;return r.test(e)},_isUrl:function(e){return/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})(:[0-9]{1,5})?((\/?)|(\/[\\\w_!~*\\'()\\\.;?:@&=+$,%#-]+)+\/?)$/.test(e)},_isSame:function(e,r){return e===r},_isRange:function(e,r,s){return!r&&r!=0&&!s&&s!=0?!0:!r&&r!=0?e<=s:!s&&s!=0?e>=r:e>=r&&e<=s},_minLength:function(e,r){return e.length>=Number(r)},_maxLength:function(e,r){return e.length<=Number(r)},_isKeyword:function(e,r){var s=!0;if(!r)return s;for(var u=r.split(","),i=0,l=u.length;i<l;i++)if(~e.indexOf(u[i])){s=!1;break}return s}},q={validator:function(e,r){for(var s={isPassed:!0,errorMsg:""},u=L(r),i;!(i=u()).done;){var l,c=i.value,n=c.name,h=c.rule||[],F=c.validator||[],I=c.msg||[],m=h.length,M=F.length;if(!(!n||m===0&&M===0||!~h.indexOf("required")&&((l=e[n])==null?void 0:l.toString().length)===0)){if(m)for(var f=0;f<m;f++){var d=h[f],z=I[f]||n+" error !";if(d){var _=null;if(~d.indexOf(":")){var V=d.split(":");d=V[0],_=V[1]}var a=!1;switch(d){case"required":a=o._isNullOrEmpty(e[n]);break;case"isMobile":a=!o._isMobile(e[n]);break;case"isEmail":a=!o._isEmail(e[n]);break;case"isCarNo":a=!o._isCarNo(e[n]);break;case"isIdCard":a=!o._isIdCard(e[n]);break;case"isAmount":a=!o._isAmount(e[n]);break;case"isNumber":a=!o._isNumber(e[n]);break;case"isChinese":a=!o._isChinese(e[n]);break;case"isNotChinese":a=!o._isNotChinese(e[n]);break;case"isEnglish":a=!o._isEnglish(e[n]);break;case"isEnAndNo":a=!o._isEnAndNo(e[n]);break;case"isEnOrNo":a=!o._isEnOrNo(e[n]);break;case"isSpecial":a=o._isSpecial(e[n]);break;case"isEmoji":a=o._isEmoji(e[n]);break;case"isDate":a=!o._isDate(e[n]);break;case"isUrl":a=!o._isUrl(e[n]);break;case"isSame":a=!o._isSame(e[n],e[_]);break;case"range":var g=null;g=JSON.parse(_),a=!o._isRange(e[n],g[0],g[1]);break;case"minLength":a=!o._minLength(e[n],_);break;case"maxLength":a=!o._maxLength(e[n],_);break;case"isKeyword":a=!o._isKeyword(e[n],_);break;case"isArrayHaveValue":a=!o._isArrHaveValue(e[n],_);break}if(a)return s.isPassed=!1,s.errorMsg=z,s}}if(M)for(var H=L(F),x;!(x=H()).done;){var w=x.value,B=w.method;if(B&&!B(e[n]))return s.isPassed=!1,s.errorMsg=w.msg||n+" error !",s}}}return s}},S=function(e){var r=function(u,i){var l=q.validator(u,i);if(l.isPassed)return l;throw e&&e(l.errorMsg),new Error(l.errorMsg)};return{check:r,rules:b}};const k=p({__name:"Demo1",setup(t){const e=v({formModel:{age:18,name:void 0}}),r=S(i=>alert(i)),s=[{name:"age",msg:["请输入年龄"],rule:[r.rules.required]},{name:"name",msg:["请输入姓名"],rule:[r.rules.required]}],u=()=>{r.check(e.formModel,s)};return(i,l)=>{const c=y("el-button");return C(),N(c,{type:"primary",onClick:u},{default:A(()=>[$("基本校验")]),_:1})}}}),U=p({__name:"Demo2",setup(t){const e=v({formModel:{age:18,name:"高启强",profile:"99年，喜欢吃鱼"}}),r=S(i=>alert(i)),s=[{name:"age",msg:["请输入年龄"],rule:[r.rules.required]},{name:"name",msg:["请输入姓名"],rule:[r.rules.required]},{name:"profile",msg:["简介不能少于10个字","简介不能大于30个字"],rule:[`${r.rules.minLength}:10`,`${r.rules.maxLength}:30`]}],u=()=>{r.check(e.formModel,s)};return(i,l)=>{const c=y("el-button");return C(),N(c,{type:"primary",onClick:u},{default:A(()=>[$("复杂校验")]),_:1})}}}),K=p({__name:"Demo3",setup(t){const e=v({formModel:{age:18,name:"高启强",profile:"99999999999年，喜欢吃鱼",buy:"安欣"}}),r=S(i=>alert(i)),s=[{name:"age",msg:["请输入年龄"],rule:[r.rules.required]},{name:"name",msg:["请输入姓名"],rule:[r.rules.required]},{name:"profile",msg:["简介不能少于10个字","简介不能大于30个字"],rule:[`${r.rules.minLength}:10`,`${r.rules.maxLength}:30`]},{name:"buy",msg:[],rule:[],validator:[{msg:"不是老默卖的我不吃！",method:()=>e.formModel.buy==="老默"}]}],u=()=>{r.check(e.formModel,s)};return(i,l)=>{const c=y("el-button");return C(),N(c,{type:"primary",onClick:u},{default:A(()=>[$("自定义校验")]),_:1})}}});export{k as _,U as a,K as b};
